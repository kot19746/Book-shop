(()=>{"use strict";function e(){const e=localStorage.getItem("shoppingCart");return JSON.parse(e)}function t(e,t){delete t[e]}let o=0;const i=document.querySelector(".bag-span");function n(n,s){let l=e();n.onclick&&n.removeEventListener("click",n.onclick),n.onclick=function(e){const n=e.target,c=n.getAttribute("data-id");s[c]?(t(c,s),n.textContent="Buy now",n.classList.remove("book-description-in-backet-active"),o--,i.style.display=o>0?"flex":"none",i.innerHTML=o):(!function(e,t){t[e]=!0,localStorage.setItem("shoppingCart",JSON.stringify(t))}(c,s),n.textContent="in the cart",n.classList.add("book-description-in-backet-active"),o++,i.innerHTML=o,i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="center",i.style.width="15px",i.style.height="15px",i.style.marginTop="10px",i.style.marginLeft="-55px",i.style.borderRadius="10px",i.style.background="#ff0000",i.style.color="#ffffff"),l[c]&&(t(c),n.classList.remove("book-description-in-backet-active"))}}function s(t,o,i){const s=e();o.forEach((e=>{const o=document.createElement("div");s?(o.innerHTML=`\n          <div class="book-image"><img src="${e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"/images/placeholder.jpg"}"></div>\n          <div class="book-description">\n          <br>\n            <div class="book-author">${e.volumeInfo.authors?e.volumeInfo.authors.join(", "):"Authors not found"}</div>\n            <div class="book-title"><h1>${e.volumeInfo.title}</h1></div>\n            <div class="book-rating">${e.volumeInfo.rating}</div>\n            <div class="book-text">${e.volumeInfo.description?e.volumeInfo.description.slice(0,100)+"...":"Description not found"}</div>\n            <br>\n            <div class="book-price"><h2>${e.saleInfo&&e.saleInfo.listPrice?e.saleInfo.listPrice.amount+" "+e.saleInfo.listPrice.currencyCode:" "}</h2></div>\n            <br>\n            <div class="book-button"><button data-id =${e.id} class="book-description-in-backet${s[e.id]?" book-description-in-backet-active":""}">${s[e.id]?"in the cart":"Buy now"}</button></div>\n          </div>\n        `,o.style.display="grid",o.style.gridTemplateColumns="1fr 1fr",o.style.margin="30px 20px",o.style.maxWidth="1120px",o.style.maxHeight="300px"):o.innerHTML=`\n        <div class="book-image"><img src="${e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"/images/placeholder.jpg"}"></div>\n        <div class="book-description">\n        <br>\n          <div class="book-author">${e.volumeInfo.authors?e.volumeInfo.authors.join(", "):"Authors not found"}</div>\n          <div class="book-title"><h1>${e.volumeInfo.title}</h1></div>\n          <div class="book-rating">${e.volumeInfo.rating}</div>\n          <div class="book-text">${e.volumeInfo.description?e.volumeInfo.description.slice(0,100)+"...":"Description not found"}</div>\n          <br>\n          <div class="book-price"><h2>${e.saleInfo&&e.saleInfo.listPrice?e.saleInfo.listPrice.amount+" "+e.saleInfo.listPrice.currencyCode:" "}</h2></div>\n          <br>\n          <div class="book-button"><button class="book-description-in-backet">Buy now</button></div>\n        </div>\n        `,t.appendChild(o)})),n(t,i)}function l(e,t){return fetch(`https://www.googleapis.com/books/v1/volumes?q="subject:${e}"&printType=books&startIndex=${t}&maxResults=6&langRestrict=en`).then((e=>e.json())).then((e=>e.items))}!function(){const e=document.querySelectorAll(".slider-image"),t=document.querySelectorAll(".slider-point");let o=0,i=0;function n(){e[o].classList.remove("slider-image-active"),o=(o+1)%e.length,e[o].classList.add("slider-image-active"),t[i].classList.remove("slider-point-active"),i=(i+1)%t.length,t[i].classList.add("slider-point-active")}let s=setInterval(n,5e3);t.forEach(((l,c)=>{l.style.cursor="pointer",l.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("slider-image-active")})),t.forEach((e=>{e.classList.remove("slider-point-active")})),e[c].classList.add("slider-image-active"),t[c].classList.add("slider-point-active"),o=c,i=c,clearInterval(s),s=setInterval(n,5e3)}))}))}();const c=document.querySelector(".load-more-button");let r=null;const a=document.querySelector(".book"),d=document.querySelector(".production-categories-list");let u="",v=null;const m={};d.addEventListener("click",(e=>{a.innerHTML="",function(e){const t=e.children;for(let e=0;e<t.length;e++)t[e].classList.remove("production-categories-list-link-active")}(d),r&&r.remove(),e.target.classList.contains("production-categories-list-link")&&(u=e.target.textContent,v=e.target,v.classList.add("production-categories-list-link-active"),r=document.createElement("button"),r.innerHTML="LOAD MORE",r.style.fontFamily="Montserrat",r.style.width="175px",r.style.height="57px",r.style.display="flex",r.style.margin="50px 0 50px 25%",r.style.justifyContent="center",r.style.paddingTop="20px",r.style.textAlign="center",r.style.backgroundColor="#fff",r.style.borderStyle="solid",r.style.borderColor="#4C3DB2",r.style.cursor="pointer",r.style.color="#4C3DB2",r.style.opacity="70%",c.appendChild(r),l(u,0).then((e=>s(a,e,m))).catch((e=>console.log(e))),function(e,t,o,i,n){e.addEventListener("click",(()=>{l(t,o+=6).then((e=>s(i,e,n)))}))}(r,u,0,a,m))})),d.firstElementChild.click()})();